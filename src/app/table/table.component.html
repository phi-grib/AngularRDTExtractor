<!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Launch demo modal
  </button>-->

<table class="table table-hover" ng-controller="myController">
    <thead>
      <tr class="text-left" bgcolor=lightgray>
        <th>Compound</th>
        <th>Name</th>
        <th>CAS no.</th>
        <th>Pharmacological action</th>
        <!-- <th>Target : Action</th> -->
        <th>Studies per species</th>
      </tr>
    </thead>
    <tbody *ngIf="globals.showSpinner">
      <tr class="justify-content-center"><td colspan="5" align="center"><app-loading-spinner></app-loading-spinner></td></tr>
    </tbody>
    <tbody *ngIf="!globals.showSpinner">
        <tr *ngFor="let row of table_info.data" class="text-left">
          <td class="align-middle text-center" style="border-right: 1px solid lightgray">
              
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                      <canvas #cmpTooltip id="{{row.subst_id}}" data-toggle="modal" data-target="#exampleModal" >{{row.smiles}}</canvas>
                  </div>
                </div>
              </div>
            </div>
            <!--END modal-->
  
            <div>
              <canvas #cmp id="{{row.subst_id}}" data-toggle="modal" data-target="#exampleModal" >{{row.smiles}}</canvas>
              <br>{{row.subst_id}}
            </div>
          </td>
          
          <!-- <td class="align-middle" rowspan=row.study_id_count>{{row.subst_id}}</td> -->
          <td class="align-middle"><pre>{{row.common_name}}</pre></td>
          <td class="align-middle"><pre>{{row.cas_number}}</pre></td>
          <td class="align-middle"><pre>{{row.pharmacological_action}}</pre></td>
          <!-- <td class="align-middle">{{row.targetAction}}</td> -->
          <td class="align-middle"><pre>{{row.count}}</pre></td>
        </tr>
    </tbody>
  </table>

  <!--PAGINATION-->
  <nav class="nav justify-content-center" *ngIf="table_info.num_pages > 0">
    <ul class="pagination">
      <div *ngIf=" table_info.previous_page > 0;then previous else no_previous"></div>
      <ng-template #previous>
        <li class="page-item"><a class="page-link" (click)= "Page(1)">First</a> </li>
        <li class="page-item"><a class="page-link" (click)= "Page(table_info.previous_page)">&laquo;</a></li>
      </ng-template>
      <ng-template #no_previous>
        <li class="page-item disabled"><a class="page-link"  tabindex="-1">First</a></li>
        <li class="page-item disabled"><a class="page-link"  tabindex="-1">&laquo;</a></li>
      </ng-template>       
      <ng-container *ngFor="let i of table_info.range_pages">        
        <li class="page-item active" *ngIf ="table_info.page == i" >
            <a class="page-link">{{ i }} <span class="sr-only">(current)</span></a>
        </li>
        <li class="page-item" *ngIf="table_info.page != i">
          <a class="page-link" (click)= "Page(i)"> {{i}} </a>
        </li>
      </ng-container>
      <div *ngIf=" table_info.next_page > 0;then next else no_next"></div>
      <ng-template #next>
        <li class="page-item"><a class="page-link" (click)= "Page(table_info.next_page)">&raquo;</a></li>
        <li class="page-item"><a class="page-link" (click)= "Page(table_info.num_pages)" >Last</a> </li>
      </ng-template> 
    
      <ng-template #no_next>
        <li class="page-item disabled"><a class="page-link"  tabindex="-1">&raquo;</a></li>
        <li class="page-item disabled"><a class="page-link"  tabindex="-1">Last</a></li>
      </ng-template>        
    </ul>
  </nav>